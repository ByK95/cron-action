name: "Find Ongoing Feature Flags"
description: ""
inputs:
  matcher:
    required: true
runs:
  using: "composite"
  steps:
  - uses: actions/checkout@v3
  - uses: actions/setup-python@v4
    with:
      python-version: '3.10'
  - name: Find Usages
    shell: bash
    run: |
      git grep -E ${{ $inputs.matcher }} -- '*.py' |
      python main.py |
      tee >(xargs -I '{}' git log -1 -S '{}' --pretty=format:'(%cd) %n') |
      tac |
      python parse.py
